---
layout: post_layout
title: 图解HTTP学习笔记之网络基础
time: 2016年08月21日 星期日
location: 天津
pulished: true
excerpt_separator: "书是这个样子的"
---
&#160; &#160; &#160; &#160; 关于http，高手推荐《TCP/IP详解》和《HTTP权威指南》，我并不是不热爱学习，但是面对这么大块的书，我是有点拒绝的。等哪天心静下来、真心想好好研究计算机网络的时候，再来看这经典书吧。Now,只想对http有种清楚的认识。。。。。。。


&#160; &#160; &#160; &#160; 偶然间在网上看到这本`《图解HTTP》`，虽然是Japanese写的书但是大家评价还不错，并且是图灵书，so就买来看了一下。不得不说，对于我这种不太了解http、计算机网络课也没怎么听的人来说，真是太赞了，amazing！这本书很cute，看起来不会困，^_^


&#160; &#160; &#160; &#160; 书是这个样子的，被客户端和服务器萌一脸，有木有。
<img src="/assets/img/HTTP_Learning/book.png" alt="图解HTTP 上野·宣 于均良（译者）人民邮电出版社">

&ensp; 

## TCP三次握手&四次挥手

&#160; &#160; &#160; &#160;按层次分，`TCP` 位于`传输层`，提供可靠的字节流服务。所谓的`字节流服务`（Byte Stream Service）是指，为了方便传输，将大块数据分割成以报文段（segment）为单位的数据包进行管理。而可靠的传输服务是指，能够把数据准确可靠地传给对方。一言以蔽之，TCP 协议为了更容易传送大数据才把数据分割，而且 TCP协议能够确认数据最终是否送达到对方。确保数据能到达目标为了准确无误地将数据送达目标处，TCP 协议采用了三次握手（three-way handshaking）策略。用 TCP 协议把数据包送出去后，TCP不会对传送后的情况置之不理，它一定会向对方确认是否成功送达。


&#160; &#160; &#160; &#160;握手过程中使用了 TCP 的标志（flag） —— `SYN`（synchronize） 和
`ACK`（acknowledgement）。

&#160; &#160; &#160; &#160;发送端首先发送一个带 `SYN` 标志的数据包给对方。接收端收到后，回传一个带有 `SYN/ACK`标志的数据包以示传达确认信息。最后，发送端再回传一个带 `ACK` 标志的数据包，代表“握手”结束。若在握手过程中某个阶段莫名中断，TCP 协议会再次以相同的顺序发送相同的数据包。

<img src="/assets/img/HTTP_Learning/0.png" alt="图片无法正常显示">

&ensp; 

&#160; &#160; &#160; &#160;握手与挥手

<img src="/assets/img/HTTP_Learning/1.png" alt="图片无法正常显示">

&ensp; 

## 路由选择

&#160; &#160; &#160; &#160;按层次分，`IP`（Internet Protocol）网际协议位于网络层。

&#160; &#160; &#160; &#160;`IP 协议`的作用是把各种数据包传送给对方。而要保证确实传送到对方
那里，则需要满足各类条件。其中两个重要的条件是 `IP 地址`和 `MAC地址`（Media Access Control Address）。

&#160; &#160; &#160; &#160;`IP 地址`指明了节点被分配到的地址，`MAC 地址`是指网卡所属的固定
地址。IP 地址可以和 MAC 地址进行配对。IP 地址可变换，但 MAC地址基本上不会更改。

&#160; &#160; &#160; &#160;`ARP `是一种用以解析地址的协议，根据通信方的 `IP 地址`就可以反查出对应的`MAC 地址`。

&#160; &#160; &#160; &#160;在到达通信目标前的中转过程中，那些计算机和路由器等网络设备只能获悉很粗略的传输路线。
这种机制称为`路由选择`（routing），有点像快递公司的送货过程。想要寄快递的人，只要将自己的货物送到集散中心，就可以知道快递公司是否肯收件发货，该快递公司的集散中心检查货物的送达地址，明确下站该送往哪个区域的集散中心。接着，那个区域的集散中心自会判断是否能送到对方的家中。

<img src="/assets/img/HTTP_Learning/2.png" alt="图片无法正常显示">

&ensp; 

## DNS服务

&#160; &#160; &#160; &#160;`DNS`（Domain Name System）服务是和 HTTP 协议一样位于应用层的
协议。它提供域名到 IP 地址之间的解析服务。计算机既可以被赋予 IP 地址，也可以被赋予主机名和域名。比如`www.hackr.jp`。

<img src="/assets/img/HTTP_Learning/3.png" alt="图片无法正常显示">

&ensp; 

## 各种协议与 HTTP 协议的关系

<img src="/assets/img/HTTP_Learning/4.png" alt="图片无法正常显示">

